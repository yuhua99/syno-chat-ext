$primary-color: var(--primary-color);
$background-color: var(--background-color);
$background-color-darker: var(--background-color-darker);
$text-color: #f9f6ee;
$gunmetal-gray: #818589;
$bone-white: rgba(249, 246, 238, 0.6);
$jet-black: #343434;
$default-background: rgb(232, 241, 243);

.x-border-panel:not(.syno-ux-formpanel, .avatar-ct, .chat-input-aria-main-v2),
div.x-panel.chat-content-panel.syno-ux-panel.chat-content-panel.x-panel-noborder:not(.syno-ux-formpanel) {
    background-color: $background-color-darker !important;
    background-image: none !important;
}

div.x-panel.x-panel-noborder.x-border-panel:not(.syno-ux-formpanel) {
    background-color: $background-color !important;
}

/***********
 * Sidebar *
 ***********/

.channel-list-item.x-view-selected,
.online-status.online-number-online.online
{
    background-color: $primary-color !important;
}

.online-status.online-number-offline.offline {
    background-color: rgba($primary-color, 0.3) !important;
}

div.channel-list-item.x-view-selected>.online-status.online-number-online {
    background-color: $text-color !important;
}

// TODO: change color
div.channel-list-item.x-view-selected>.online-status.online-number-offline {
    background-color: $gunmetal-gray !important;
}

.online-status.online-number-online,
.online-status.online-number-offline {
    background-image: none !important;
    border-radius: 50% !important;
    height: 12px !important;
    width: 12px !important;
    margin-top: 6px;
    margin-left: 6px;
}

// TODO: change color
.channel-list-item.x-view-selected * {
    color: $jet-black !important;
}

/************
 * Chat Msg *
 ************/

.extra-date-splitter-wrapper,
.date-splitter-line,
.date-splitter-text {
    background-color: $background-color !important;
}

.welcome-hello,
.date-splitter-text {
    color: $text-color !important;
}

/*********************
 * Chat Thread Popup *
 *********************/

.msg-wrap.group-first,
.msg-additional-wrapper,
.x-window.chat-thread-dialog .x-window-body.x-window-body-noheader {
    background-color: $background-color !important;
}

.x-window.chat-thread-dialog .msg-wrap:not(.thread-header),
.x-window.chat-thread-dialog .more-comments-btn {
    border: none !important;
}

/**************
 * Chat Panel *
 **************/

.chat-msgview {
    background-color: $background-color !important;
}

.chat-msg-top-toolbar .msg-title {
    color: $text-color !important;

    a {
        color: $text-color !important;
    }
}

.chat-search-result span {
    color: $text-color !important;
}

.msg-wrap {
    *:is(
        .msg-user-channel-name :is(.msg-left-brackets, .msg-channel-name),
        .msg-right-brackets,
        .msg-text>.text-wrapper>div.markdown,
        .msg-text>.file-wrapper>.file-desc>div.markdown,
        .msg-text>.url-wrapper .url-text-wrapper>.url-title,
        .msg-text>.msg-additional-btns>.msg-reaction-wrap .msg-reaction-num,
        .msg-user-name,
        div.msg-text,
        .commentor
    ){
        color: $text-color !important;
    }

    .msg-text>.url-wrapper .url-text-wrapper>.url-desc {
        color: rgba($text-color, 0.7) !important;
    }

    .msg-text>.text-wrapper>div.markdown>pre {
        color: $gunmetal-gray;
    }

    *:is(.comment-count,
        .msg-count) {
        color: var(--primary-color) !important;
    }

    .msg-inputarea-textarea-wrap{
        border: 1px solid $primary-color !important;
    }

    .msg-action-container .msg-action-divider {
        background-color: $text-color !important;
    }
}

span.msg-inputarea-send-btn {
    background-color: $primary-color !important;
    border-color: $primary-color !important;
}

.msg-additional-hashtag-wrap {
    background-color: $background-color-darker !important;

    .hash-teg {
        color: $primary-color !important;
    }
}

.msg-wrap .markdown>.label {
    background-color: $background-color-darker !important;
    color: $primary-color !important;
    border: 1px solid $background-color-darker !important;
}

.msg-wrap .system-text {
    color: $bone-white !important;
}

.msg-wrap:hover {
    background-color: rgba($background-color, 0.9) !important;
}

.msg-wrap.active {
    background-color: $background-color-darker !important;
}

.msg-reaction-wrap {
    background-color: $background-color !important;
}

.chat-input-aria-main-v2 {
    background-color: $background-color !important;

    .msg-inputarea-textarea-wrap {
        border-color: $text-color !important;

        .msg-inputarea-textarea {
            color: $text-color !important;
        }
    }
}

.user-status.offline {
    background-color: $gunmetal-gray !important;
}

.syno-chat span.msg-inputarea-send-btn.x-item-disabled button,
span.msg-inputarea-send-btn.x-item-disabled button,
span.msg-inputarea-send-btn button {
    color: $jet-black !important;
}

div.anonymous-list * {
    background-color: $default-background !important;
}

/****************
 * Msg splitter *
 ****************/

.new-msg-splitter-line {
    background-color: $primary-color !important;
}
.new-msg-splitter-text {
    background-color: $background-color !important;
    color: $primary-color !important;
}
